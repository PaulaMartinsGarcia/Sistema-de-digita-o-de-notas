<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Login</title>
    <link href="./bootstrap/css/bootstrap.min.css" rel="stylesheet" />
    <style>
      .vh-100 {
        height: 100vh;
      }
    </style>
    <style>
      @media only screen and (max-width: 900px) {
        .overflow-mobile {
          overflow: scroll;
        }

        .overflow-mobile table th {
          white-space: nowrap;
        }
      }
    </style>
  </head>
  <body class="bg-secondary">
    <div class="container">
      <div class="row justify-content-center align-items-center vh-100">
        <div class="col-12 text-center">
          <img src="img/logo.svg" alt="logo" />
        </div>
        <div class="col-sm-12 col-12 col-md-10 col-lg-10 col-xl-10 col-xxl-6">
          <div class="overflow-mobile">
            <table class="table text-light">
              <thead>
                <tr>
                  <th scope="col">Nome</th>
                  <th scope="col">RGM</th>
                  <th scope="col">Turma</th>
                  <th scope="col">Nota1</th>
                  <th scope="col">Nota2</th>
                  <th scope="col">MÃ©dia</th>
                </tr>
              </thead>
              <tbody id="alunos"></tbody>
            </table>
          </div>
        </div>
        <div class="col-12 text-center">
          <button class="btn btn-primary" onclick="goToDigitacao()">
            Cadastrar mais alunos
          </button>
        </div>
      </div>
    </div>

    <script src="./bootstrap/js/bootstrap.min.js"></script>

    <script>
      let students = JSON.parse(localStorage.getItem('students'))
      let alunos = document.getElementById('alunos')

      students.forEach(parseStudent)

      function parseStudent(item) {
        let row =
          '<tr><th scope="row">' +
          item.nome +
          '</th><td>' +
          item.rgm +
          '</td><td>' +
          item.turma +
          '</td><td>' +
          item.nota1 +
          '</td><td>' +
          item.nota2 +
          '</td><td>' +
          item.media +
          '</td></tr>'

        alunos.insertAdjacentHTML('beforeend', row)
      }

      function goToDigitacao() {
        window.location.href = 'digitacao.html'
      }
    </script>
  </body>
</html>
